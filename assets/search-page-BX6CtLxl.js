import{l as y,m as P,n as N,r,aZ as L,j as e,H as C,z as E}from"./index-jqWcwVkE.js";import{M,a as T}from"./pagination-CchSCpN0.js";import"./rating-indicator-Bpoo463h.js";import"./chevron-left-By0uqyfI.js";const z=()=>{var p,u;const x=y(),[c]=P(),t=c.get("query")||"",h=c.get("page")?parseInt(c.get("page")):1,{staticStart:g,complete:f}=N(),[o,j]=r.useState(h),[l,S]=r.useState([]),[i,d]=r.useState(!1),[m,{isSuccess:n,data:s}]=L();r.useEffect(()=>{i||(g(),d(!0)),m({query:t,page:o})},[t,o,m]),r.useEffect(()=>{var a;n&&(S((a=s.data)==null?void 0:a.results),d(!1),f())},[n,s]);const v=a=>{j(a)};return e.jsxs("div",{className:"max-w-[1200px] container mx-auto p-4",children:[e.jsx(C,{children:e.jsxs("title",{children:["Search - ",t]})}),e.jsxs("div",{className:"px-8 py-6",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4",children:['Search Results for "',t,'"'," ",n&&e.jsx("span",{className:"ml-2 inline-flex items-center px-3 py-1 text-lg font-medium text-white bg-slate-600 rounded-full shadow-md",children:(p=s.data)==null?void 0:p.total_results})]}),i?e.jsx("div",{className:"flex justify-center items-center h-40",children:e.jsx(E,{isOpening:i})}):l.length>0?e.jsx("ul",{className:"space-y-4",children:l.map(a=>e.jsx(M,{movie:a,onClick:()=>{x(`/movie/${a.id}`)}}))}):e.jsxs("p",{className:"text-gray-400",children:['There are no results that matched "',t,'".']})]}),n&&(s==null?void 0:s.data)&&e.jsx(T,{currentPage:o,totalPages:(u=s.data)==null?void 0:u.total_pages,onPageChange:v})]})};export{z as default};
